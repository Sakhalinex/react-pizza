{"version":3,"sources":["assets/img/pizza-logo.svg","assets/img/empty-cart.png","redux/reducers/cart.js","redux/reducers/filters.js","redux/reducers/orders.js","redux/reducers/pizzas.js","redux/reducers/promocodes.js","redux/reducers/reviews.js","redux/reducers/index.js","redux/store.js","components/Button.jsx","components/CartItem.jsx","components/Categories.jsx","redux/actions/cart.js","components/Header.tsx","redux/actions/reviews.js","components/ReviewModal.jsx","components/PizzaBlock/index.jsx","components/PizzaBlock/LoadingBlock.jsx","components/SearchInput.jsx","components/SortDirectionButton.jsx","components/SortPopup.jsx","components/Notification.jsx","redux/actions/filters.js","api/api.js","redux/actions/pizzas.js","pages/Home.jsx","redux/actions/promocodes.js","pages/Cart.jsx","redux/actions/orders.js","pages/OrderPage.jsx","pages/OrdersPage.jsx","App.js","index.js"],"names":["module","exports","initialState","items","totalPrice","totalCount","getTotalPrice","arr","reduce","sum","obj","price","getTotalSum","path","Object","values","_get","firstKey","keys","split","val","key","cart","state","arguments","length","undefined","action","type","currentPizzaItems","payload","id","newItems","_objectSpread","currentTotalPrice","currentTotalCount","newObjItems","oldItems","slice","category","sortBy","order","filters","orders","isLoaded","pizzas","appliedPromocode","promocodes","reviews","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Button","_ref","onClick","className","outline","children","React","createElement","classNames","CartItem","name","size","cartKey","onRemove","onMinus","onPlus","imageUrl","src","alt","handleMinusItem","width","height","viewBox","fill","xmlns","d","handlePlusItem","handleRemoveClick","Categories","memo","activeCategory","onClickCategory","map","index","concat","defaultProps","CART_API","getCartKey","pizzaObj","clearCart","async","dispatch","data","cartItems","axios","get","Promise","all","item","delete","Header","useDispatch","useSelector","useEffect","forEach","cartItem","Array","count","pizzaId","setCartFromServer","Link","to","logoSvg","style","display","alignItems","gap","color","fontWeight","stroke","strokeWidth","strokeLinecap","strokeLinejoin","REVIEWS_API","ReviewModal","isOpen","onClose","onSubmit","pizzaName","rating","setRating","useState","comment","setComment","author","setAuthor","e","stopPropagation","star","preventDefault","trim","alert","placeholder","value","onChange","target","marginBottom","padding","borderRadius","border","fontSize","rows","margin","borderTop","maxHeight","overflowY","flexDirection","r","idx","background","marginTop","date","Date","toLocaleString","PizzaBlock","types","sizes","onClickAddPizza","addedCount","availableTypes","availableSizes","activeType","setActiveType","activeSize","setActiveSize","isReviewOpen","setIsReviewOpen","error","console","pizzaReviews","filter","avgRating","toFixed","cursor","marginLeft","textDecoration","onSelectType","active","disabled","includes","onSelectSize","onAddPizza","_ref2","reviewData","review","now","toString","toISOString","post","LoadingBlock","ContentLoader","speed","backgroundColor","foregroundColor","cx","cy","x","y","rx","ry","SearchInput","minWidth","marginRight","SortDirectionButton","direction","isAsc","title","transform","transition","SortPopup","activeSortType","onClickSortType","visiblePopup","setVisiblePopup","sortRef","useRef","activeLabel","find","handleOutsideClick","event","composedPath","current","document","body","addEventListener","ref","toggleVisiblePopup","onSelectItem","Notification","message","visible","timer","setTimeout","clearTimeout","setSortBy","api","create","baseURL","setPizzas","categoryNames","sortIems","Home","_ref3","_ref4","search","setSearch","fetchPizzas","queryParams","encodeURIComponent","push","queryString","join","url","then","onSelectCategory","useCallback","onSelectSortType","onChangeSortOrder","handleAddPizzaToCart","put","err","response","status","justifyContent","assign","_","PizzaLoadingBlock","PROMO_API","Cart","_state$promocodes","promoInput","setPromoInput","promoMessage","setPromoMessage","addedPizzas","entries","code","_unused","checkPromo","onRemoveItem","confirm","removeCartItem","onPlusItem","plusCartItem","onMinusItem","minusCartItem","discount","Math","round","finalPrice","onClearCart","result","upperCode","toUpperCase","promocode","Number","description","success","handleRemovePromo","cartEmptyImage","ORDERS_API","inputStyle","OrderPage","showNotification","history","useHistory","form","setForm","phone","address","loading","setLoading","handleChange","maxWidth","boxShadow","res","random","currentItems","getState","orderData","prevOrders","JSON","parse","localStorage","getItem","setItem","stringify","required","OrdersPage","getStatusColor","textAlign","paddingBottom","borderBottom","dateString","toLocaleDateString","day","month","year","hour","minute","getStatusText","App","notification","setNotification","handleClose","n","Route","component","exact","render","ReactDOM","Router","Provider","getElementById"],"mappings":"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","file":"static/js/main.674d5157.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pizza-logo.f3327011.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty-cart.ceb2faf0.png\";","const initialState = {\r\n  items: {},\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n};\r\n\r\nconst getTotalPrice = arr => arr.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\nconst _get = (obj, path) => {\r\n  const [firstKey, ...keys] = path.split('.');\r\n  return keys.reduce((val, key) => {\r\n    return val[key];\r\n  }, obj[firstKey]);\r\n};\r\n\r\nconst getTotalSum = (obj, path) => {\r\n  return Object.values(obj).reduce((sum, obj) => {\r\n    const value = _get(obj, path);\r\n    return sum + value;\r\n  }, 0);\r\n};\r\n\r\nconst cart = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_PIZZA_CART': {\r\n      const currentPizzaItems = !state.items[action.payload.id]\r\n        ? [action.payload]\r\n        : [...state.items[action.payload.id].items, action.payload];\r\n\r\n      const newItems = {\r\n        ...state.items,\r\n        [action.payload.id]: {\r\n          items: currentPizzaItems,\r\n          totalPrice: getTotalPrice(currentPizzaItems),\r\n        },\r\n      };\r\n\r\n      const totalCount = getTotalSum(newItems, 'items.length');\r\n      const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'REMOVE_CART_ITEM': {\r\n      const newItems = {\r\n        ...state.items,\r\n      };\r\n      const currentTotalPrice = newItems[action.payload].totalPrice;\r\n      const currentTotalCount = newItems[action.payload].items.length;\r\n      delete newItems[action.payload];\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalPrice: state.totalPrice - currentTotalPrice,\r\n        totalCount: state.totalCount - currentTotalCount,\r\n      };\r\n    }\r\n\r\n    case 'PLUS_CART_ITEM': {\r\n      const newObjItems = [\r\n        ...state.items[action.payload].items,\r\n        state.items[action.payload].items[0],\r\n      ];\r\n      const newItems = {\r\n        ...state.items,\r\n        [action.payload]: {\r\n          items: newObjItems,\r\n          totalPrice: getTotalPrice(newObjItems),\r\n        },\r\n      };\r\n\r\n      const totalCount = getTotalSum(newItems, 'items.length');\r\n      const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'MINUS_CART_ITEM': {\r\n      const oldItems = state.items[action.payload].items;\r\n      const newObjItems =\r\n        oldItems.length > 1 ? state.items[action.payload].items.slice(1) : oldItems;\r\n      const newItems = {\r\n        ...state.items,\r\n        [action.payload]: {\r\n          items: newObjItems,\r\n          totalPrice: getTotalPrice(newObjItems),\r\n        },\r\n      };\r\n\r\n      const totalCount = getTotalSum(newItems, 'items.length');\r\n      const totalPrice = getTotalSum(newItems, 'totalPrice');\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalCount,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'CLEAR_CART':\r\n      return { totalPrice: 0, totalCount: 0, items: {} };\r\n\r\n    case 'SET_CART_FROM_SERVER':\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        totalCount: getTotalSum(action.payload, 'items.length'),\r\n        totalPrice: getTotalSum(action.payload, 'totalPrice'),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cart;\r\n","const initialState = {\r\n  category: null,\r\n  sortBy: {\r\n    type: 'rating',\r\n    order: 'desc',\r\n  },\r\n};\r\n\r\nconst filters = (state = initialState, action) => {\r\n  if (action.type === 'SET_SORT_BY') {\r\n    return {\r\n      ...state,\r\n      sortBy: action.payload,\r\n    };\r\n  }\r\n    if (action.type === 'SET_CATEGORY') {\r\n      return {\r\n        ...state,\r\n        category: action.payload,\r\n      };\r\n    }\r\n  return state;\r\n};\r\n\r\nexport default filters;\r\n","const initialState = {\r\n  orders: [],\r\n};\r\n\r\nconst orders = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_ORDER':\r\n      return {\r\n        ...state,\r\n        orders: [action.payload, ...state.orders],\r\n      };\r\n    case 'SET_ORDERS':\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default orders;\r\n","const initialState = {\r\n  items: [],\r\n  isLoaded: false,\r\n};\r\n\r\nconst pizzas = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_PIZZAS':\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        isLoaded: true,\r\n      };\r\n\r\n    case 'SET_LOADED':\r\n      return {\r\n        ...state,\r\n        isLoaded: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pizzas;\r\n","const initialState = {\r\n  appliedPromocode: null,\r\n};\r\n\r\nconst promocodes = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'APPLY_PROMOCODE':\r\n      return {\r\n        ...state,\r\n        appliedPromocode: action.payload,\r\n      };\r\n    case 'REMOVE_PROMOCODE':\r\n      return {\r\n        ...state,\r\n        appliedPromocode: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default promocodes;\r\n","const initialState = {\r\n  reviews: [],\r\n};\r\n\r\nconst reviews = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: [action.payload, ...state.reviews],\r\n      };\r\n    case 'SET_REVIEWS':\r\n      return {\r\n        ...state,\r\n        reviews: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reviews;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport cart from './cart';\r\nimport filters from './filters';\r\nimport orders from './orders';\r\nimport pizzas from './pizzas';\r\nimport promocodes from './promocodes';\r\nimport reviews from './reviews';\r\n\r\nconst rootReducer = combineReducers({\r\n  filters,\r\n  pizzas,\r\n  cart,\r\n  orders,\r\n  reviews,\r\n  promocodes,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nconst Button = ({ onClick, className, outline, children }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={classNames('button', className, {\r\n        'button--outline': outline,\r\n      })}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst CartItem = ({\r\n  id,\r\n  name,\r\n  type,\r\n  size,\r\n  totalPrice,\r\n  totalCount,\r\n  cartKey,\r\n  onRemove,\r\n  onMinus,\r\n  onPlus,\r\n  imageUrl,\r\n}) => {\r\n  const handleRemoveClick = () => {\r\n    onRemove();\r\n  };\r\n\r\n  const handlePlusItem = () => {\r\n    onPlus();\r\n  };\r\n\r\n  const handleMinusItem = () => {\r\n    onMinus();\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart__item\">\r\n      <div className=\"cart__item-img\">\r\n        <img\r\n          className=\"pizza-block__image\"\r\n          src={\r\n            name == 'Маргарита' || name === 'Пепперони'\r\n              ? 'https://media.dodostatic.net/image/r:584x584/11ee7d6105ef6690b86fbde6150b5b0c.avif'\r\n              : imageUrl\r\n          }\r\n          alt=\"Pizza\"\r\n        />\r\n      </div>\r\n      <div className=\"cart__item-info\">\r\n        <h3>{name}</h3>\r\n        <p>\r\n          {type} теста, {size} см.\r\n        </p>\r\n      </div>\r\n      <div className=\"cart__item-count\">\r\n        <div\r\n          onClick={handleMinusItem}\r\n          className=\"button button--outline button--circle cart__item-count-minus\">\r\n          <svg\r\n            width=\"10\"\r\n            height=\"10\"\r\n            viewBox=\"0 0 10 10\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n            <path\r\n              d=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n          </svg>\r\n        </div>\r\n        <b>{totalCount}</b>\r\n        <div\r\n          onClick={handlePlusItem}\r\n          className=\"button button--outline button--circle cart__item-count-plus\">\r\n          <svg\r\n            width=\"10\"\r\n            height=\"10\"\r\n            viewBox=\"0 0 10 10\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n            <path\r\n              d=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"cart__item-price\">\r\n        <b>{totalPrice} ₽</b>\r\n      </div>\r\n      <div className=\"cart__item-remove\">\r\n        <Button onClick={handleRemoveClick} className=\"button--circle\" outline>\r\n          <svg\r\n            width=\"10\"\r\n            height=\"10\"\r\n            viewBox=\"0 0 10 10\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n            <path\r\n              d=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n              fill=\"#EB5A1E\"\r\n            />\r\n          </svg>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Categories = React.memo(function Categories({ activeCategory, items, onClickCategory }) {\r\n  return (\r\n    <div className=\"categories\">\r\n      <ul>\r\n        <li\r\n          className={activeCategory === null ? 'active' : ''}\r\n          onClick={() => onClickCategory(null)}>\r\n          Все\r\n        </li>\r\n        {items &&\r\n          items.map((name, index) => (\r\n            <li\r\n              className={activeCategory === index ? 'active' : ''}\r\n              onClick={() => onClickCategory(index)}\r\n              key={`${name}_${index}`}>\r\n              {name}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n});\r\n\r\nCategories.propTypes = {\r\n  // activeCategory: PropTypes.oneOf([PropTypes.number, null]),\r\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  onClickCategory: PropTypes.func.isRequired,\r\n};\r\n\r\nCategories.defaultProps = { activeCategory: null, items: [] };\r\n\r\nexport default Categories;\r\n","import axios from 'axios';\n\nconst CART_API = 'https://680743a9e81df7060eb96fec.mockapi.io/db/cart';\n\n// Генерация уникального ключа для позиции корзины\nconst getCartKey = pizzaObj => `${pizzaObj.id}_${pizzaObj.size}_${pizzaObj.type}`;\n\nexport const addPizzaToCart = pizzaObj => async dispatch => {\n  const cartKey = getCartKey(pizzaObj);\n  dispatch({ type: 'ADD_PIZZA_CART', payload: { ...pizzaObj, cartKey } });\n  try {\n    const { data: cartItems } = await axios.get(`${CART_API}?cartKey=${cartKey}`);\n    if (cartItems.length > 0) {\n      await axios.put(`${CART_API}/${cartItems[0].id}`, {\n        ...cartItems[0],\n        count: cartItems[0].count + 1,\n      });\n    } else {\n      await axios.post(CART_API, { ...pizzaObj, cartKey, pizzaId: pizzaObj.id, count: 1 });\n    }\n  } catch (err) {\n    if (err.response && err.response.status === 404) {\n      await axios.post(CART_API, { ...pizzaObj, cartKey, pizzaId: pizzaObj.id, count: 1 });\n    } else {\n      throw err;\n    }\n  }\n};\n\nexport const clearCart = () => async dispatch => {\n  dispatch({ type: 'CLEAR_CART' });\n  const { data: cartItems } = await axios.get(CART_API);\n  await Promise.all(cartItems.map(item => axios.delete(`${CART_API}/${item.id}`)));\n};\n\nexport const removeCartItem = pizzaObj => async dispatch => {\n  const cartKey = getCartKey(pizzaObj);\n  dispatch({ type: 'REMOVE_CART_ITEM', payload: cartKey });\n  const { data: cartItems } = await axios.get(`${CART_API}?cartKey=${cartKey}`);\n  if (cartItems.length > 0) {\n    await axios.delete(`${CART_API}/${cartItems[0].id}`);\n  }\n};\n\nexport const plusCartItem = pizzaObj => async dispatch => {\n  const cartKey = getCartKey(pizzaObj);\n  dispatch({ type: 'PLUS_CART_ITEM', payload: cartKey });\n  const { data: cartItems } = await axios.get(`${CART_API}?cartKey=${cartKey}`);\n  if (cartItems.length > 0) {\n    await axios.put(`${CART_API}/${cartItems[0].id}`, {\n      ...cartItems[0],\n      count: cartItems[0].count + 1,\n    });\n  }\n};\n\nexport const minusCartItem = pizzaObj => async dispatch => {\n  const cartKey = getCartKey(pizzaObj);\n  dispatch({ type: 'MINUS_CART_ITEM', payload: cartKey });\n  const { data: cartItems } = await axios.get(`${CART_API}?cartKey=${cartKey}`);\n  if (cartItems.length > 0) {\n    if (cartItems[0].count > 1) {\n      await axios.put(`${CART_API}/${cartItems[0].id}`, {\n        ...cartItems[0],\n        count: cartItems[0].count - 1,\n      });\n    } else {\n      await axios.delete(`${CART_API}/${cartItems[0].id}`);\n    }\n  }\n};\n\nexport const setCartFromServer = items => ({\n  type: 'SET_CART_FROM_SERVER',\n  payload: items,\n});\n\nexport const fetchCartFromServer = () => async dispatch => {\n  const { data } = await axios.get(CART_API);\n  const items = {};\n  data.forEach(cartItem => {\n    const cartKey = cartItem.cartKey;\n    items[cartKey] = {\n      items: Array(cartItem.count).fill({\n        id: cartItem.pizzaId,\n        name: cartItem.name,\n        imageUrl: cartItem.imageUrl,\n        price: cartItem.price,\n        size: cartItem.size,\n        type: cartItem.type,\n        cartKey,\n      }),\n      totalPrice: cartItem.price * cartItem.count,\n    };\n  });\n  dispatch(setCartFromServer(items));\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n// @ts-ignore\nimport logoSvg from '../assets/img/pizza-logo.svg';\nimport { fetchCartFromServer } from '../redux/actions/cart';\nimport Button from './Button';\n\nconst Header: React.FC = () => {\n  const dispatch = useDispatch();\n  const { totalPrice, totalCount } = useSelector((state: any) => state.cart);\n\n  React.useEffect(() => {\n    dispatch(fetchCartFromServer());\n  }, [dispatch]);\n\n  return (\n    <div className=\"header\">\n      <div className=\"container\">\n        <Link to=\"/\">\n          <div className=\"header__logo\">\n            <img width=\"38\" src={logoSvg} alt=\"Pizza logo\" />\n            <div>\n              <h1>React Pizza</h1>\n              <p>самая вкусная пицца во вселенной</p>\n            </div>\n          </div>\n        </Link>\n\n        <div className=\"header__cart\" style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\n          <Link to=\"/orders\">\n            <Button className=\"button--orders\" outline={true} onClick={undefined}>\n              <span\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 6,\n                  color: '#ff9800',\n                  fontWeight: 600,\n                }}>\n                <svg width=\"20\" height=\"20\" fill=\"none\" viewBox=\"0 0 20 20\">\n                  <path\n                    d=\"M5 2.5A2.5 2.5 0 0 0 2.5 5v10A2.5 2.5 0 0 0 5 17.5h10A2.5 2.5 0 0 0 17.5 15V5A2.5 2.5 0 0 0 15 2.5H5Zm0 1.5h10A1 1 0 0 1 16 5v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1Zm2.5 2A.5.5 0 0 0 7 6.5v5a.5.5 0 0 0 .146.354l2.5 2.5a.5.5 0 0 0 .708-.708L8 11.293V6.5A.5.5 0 0 0 7.5 6Zm5 0a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.146.354l-2.5 2.5a.5.5 0 1 1-.708-.708L12 11.293V6.5a.5.5 0 0 1 .5-.5Z\"\n                    fill=\"#ff9800\"\n                  />\n                </svg>\n                <span>Мои заказы</span>\n              </span>\n            </Button>\n          </Link>\n          <Link to=\"/cart\">\n            <Button className=\"button--cart\" onClick={undefined} outline={false}>\n              <span>{totalPrice} ₽</span>\n              <div className=\"button__delimiter\"></div>\n              <svg\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n              <span>{totalCount}</span>\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import axios from 'axios';\r\n\r\nconst REVIEWS_API = 'https://686750c9e3fefb261ede4439.mockapi.io/db2/reviews';\r\n\r\nexport const addReview = reviewData => async dispatch => {\r\n  try {\r\n    const review = {\r\n      ...reviewData,\r\n      id: Date.now().toString(),\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    await axios.post(REVIEWS_API, review);\r\n    dispatch({ type: 'ADD_REVIEW', payload: review });\r\n  } catch (error) {\r\n    console.error('Error adding review:', error);\r\n  }\r\n};\r\n\r\nexport const fetchReviews = () => async dispatch => {\r\n  try {\r\n    const { data } = await axios.get(REVIEWS_API);\r\n    dispatch({ type: 'SET_REVIEWS', payload: data });\r\n  } catch (error) {\r\n    console.error('Error fetching reviews:', error);\r\n  }\r\n};\r\n\r\nexport const setReviews = reviews => ({\r\n  type: 'SET_REVIEWS',\r\n  payload: reviews,\r\n});\r\n","import React, { useState } from 'react';\r\nimport './ReviewModal.scss';\r\n\r\nconst ReviewModal = ({ isOpen, onClose, onSubmit, pizzaName, reviews = [] }) => {\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [author, setAuthor] = useState('');\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (rating === 0) {\r\n      alert('Пожалуйста, поставьте оценку');\r\n      return;\r\n    }\r\n    onSubmit({ rating, comment, author: author.trim() || 'Аноним' });\r\n    setRating(0);\r\n    setComment('');\r\n    setAuthor('');\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"review-modal-overlay\" onClick={onClose}>\r\n      <div className=\"review-modal\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"review-modal__header\">\r\n          <h3>Оставить отзыв</h3>\r\n          <button className=\"review-modal__close\" onClick={onClose}>\r\n            ×\r\n          </button>\r\n        </div>\r\n        <div className=\"review-modal__content\">\r\n          <p className=\"review-modal__pizza-name\">{pizzaName}</p>\r\n          <div className=\"review-modal__rating\">\r\n            <p>Ваша оценка:</p>\r\n            <div className=\"stars\">\r\n              {[1, 2, 3, 4, 5].map(star => (\r\n                <button\r\n                  key={star}\r\n                  className={`star ${star <= rating ? 'star--active' : ''}`}\r\n                  onClick={() => setRating(star)}>\r\n                  ★\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <p className=\"rating-text\">{rating > 0 ? `${rating} из 5` : 'Поставьте оценку'}</p>\r\n          </div>\r\n          <form onSubmit={handleSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ваше имя (необязательно)\"\r\n              value={author}\r\n              onChange={e => setAuthor(e.target.value)}\r\n              style={{\r\n                width: '100%',\r\n                marginBottom: 10,\r\n                padding: '10px 14px',\r\n                borderRadius: 8,\r\n                border: '1px solid #eee',\r\n                fontSize: 16,\r\n              }}\r\n            />\r\n            <textarea\r\n              placeholder=\"Напишите ваш отзыв (необязательно)\"\r\n              value={comment}\r\n              onChange={e => setComment(e.target.value)}\r\n              rows={4}\r\n            />\r\n            <div className=\"review-modal__actions\">\r\n              <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\r\n                Отмена\r\n              </button>\r\n              <button type=\"submit\" className=\"btn-primary\">\r\n                Отправить\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <hr style={{ margin: '24px 0 16px 0', border: 0, borderTop: '1px solid #eee' }} />\r\n          <h4 style={{ color: '#ff9800', margin: '0 0 12px 0' }}>Отзывы:</h4>\r\n          {reviews.length === 0 ? (\r\n            <div style={{ color: '#999', fontSize: 15 }}>Пока нет отзывов</div>\r\n          ) : (\r\n            <div\r\n              style={{\r\n                maxHeight: 220,\r\n                overflowY: 'auto',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                gap: 10,\r\n              }}>\r\n              {reviews.map((r, idx) => (\r\n                <div\r\n                  key={r.id || idx}\r\n                  style={{ background: '#faf8f6', borderRadius: 8, padding: 10 }}>\r\n                  <div style={{ color: '#ffc107', fontWeight: 600, fontSize: 15 }}>\r\n                    ★ {r.rating}\r\n                  </div>\r\n                  <div style={{ color: '#333', fontSize: 15, marginTop: 2 }}>\r\n                    <b>{r.author || 'Аноним'}:</b> {r.comment}\r\n                  </div>\r\n                  <div style={{ color: '#bbb', fontSize: 12, marginTop: 4 }}>\r\n                    {r.date && new Date(r.date).toLocaleString('ru-RU')}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReviewModal;\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addReview, fetchReviews } from '../../redux/actions/reviews';\r\nimport Button from '../Button';\r\nimport ReviewModal from '../ReviewModal';\r\n\r\nfunction PizzaBlock({ id, name, imageUrl, price, types, sizes, onClickAddPizza, addedCount }) {\r\n  const availableTypes = ['тонкое', 'традиционное'];\r\n  const availableSizes = [26, 30, 40];\r\n\r\n  const [activeType, setActiveType] = React.useState(types[0]);\r\n  const [activeSize, setActiveSize] = React.useState(0);\r\n  const [isReviewOpen, setIsReviewOpen] = React.useState(false);\r\n  const dispatch = useDispatch();\r\n  const { reviews } = useSelector(state => state.reviews);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchReviews());\r\n  }, [dispatch]);\r\n\r\n  const pizzaReviews = reviews.filter(r => r.pizzaId === id);\r\n  const avgRating = pizzaReviews.length\r\n    ? (pizzaReviews.reduce((sum, r) => sum + r.rating, 0) / pizzaReviews.length).toFixed(1)\r\n    : null;\r\n\r\n  const onSelectType = index => {\r\n    setActiveType(index);\r\n  };\r\n\r\n  const onSelectSize = index => {\r\n    setActiveSize(index);\r\n  };\r\n\r\n  const onAddPizza = () => {\r\n    const obj = {\r\n      id,\r\n      name,\r\n      imageUrl,\r\n      price,\r\n      size: availableSizes[activeSize],\r\n      type: availableTypes[activeType],\r\n    };\r\n    onClickAddPizza(obj);\r\n  };\r\n\r\n  const handleAddReview = ({ rating, comment }) => {\r\n    dispatch(addReview({ pizzaId: id, pizzaName: name, rating, comment }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"pizza-block\">\r\n      <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n      <h4 className=\"pizza-block__title\">{name}</h4>\r\n      <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 8 }}>\r\n        {avgRating ? (\r\n          <span style={{ color: '#ff9800', fontWeight: 600, fontSize: 16 }}>★ {avgRating}</span>\r\n        ) : (\r\n          <span style={{ color: '#bbb', fontSize: 14 }}>Нет оценок</span>\r\n        )}\r\n        <button\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#ff9800',\r\n            fontWeight: 600,\r\n            cursor: 'pointer',\r\n            fontSize: 14,\r\n            marginLeft: 4,\r\n            textDecoration: 'underline',\r\n          }}\r\n          onClick={() => setIsReviewOpen(true)}>\r\n          Отзывы ({pizzaReviews.length})\r\n        </button>\r\n      </div>\r\n      <div className=\"pizza-block__selector\">\r\n        <ul>\r\n          {availableTypes.map((type, index) => (\r\n            <li\r\n              key={type}\r\n              onClick={() => onSelectType(index)}\r\n              className={classNames({\r\n                active: activeType === index,\r\n                disabled: !types.includes(index),\r\n              })}>\r\n              {type}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <ul>\r\n          {availableSizes.map((size, index) => (\r\n            <li\r\n              key={size}\r\n              onClick={() => onSelectSize(index)}\r\n              className={classNames({\r\n                active: activeSize === index,\r\n                disabled: !sizes.includes(size),\r\n              })}>\r\n              {size} см.\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"pizza-block__bottom\">\r\n        <div className=\"pizza-block__price\">от {price} ₽</div>\r\n        <Button onClick={onAddPizza} className=\"button--add\" outline>\r\n          <svg\r\n            width=\"12\"\r\n            height=\"12\"\r\n            viewBox=\"0 0 12 12\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n              fill=\"white\"\r\n            />\r\n          </svg>\r\n          <span>Добавить</span>\r\n          {addedCount && <i>{addedCount}</i>}\r\n        </Button>\r\n      </div>\r\n      <ReviewModal\r\n        isOpen={isReviewOpen}\r\n        onClose={() => setIsReviewOpen(false)}\r\n        onSubmit={handleAddReview}\r\n        pizzaName={name}\r\n        reviews={pizzaReviews}\r\n      />\r\n      {isReviewOpen && (\r\n        <div style={{ marginTop: 16 }}>\r\n          <h5 style={{ color: '#ff9800', margin: '8px 0 4px 0' }}>Отзывы:</h5>\r\n          {pizzaReviews.length === 0 ? (\r\n            <div style={{ color: '#999', fontSize: 14 }}>Пока нет отзывов</div>\r\n          ) : (\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n              {pizzaReviews.map((r, idx) => (\r\n                <div\r\n                  key={r.id || idx}\r\n                  style={{ background: '#faf8f6', borderRadius: 8, padding: 10 }}>\r\n                  <div style={{ color: '#ffc107', fontWeight: 600, fontSize: 15 }}>\r\n                    ★ {r.rating}\r\n                  </div>\r\n                  <div style={{ color: '#333', fontSize: 15, marginTop: 2 }}>\r\n                    <b>{r.author || 'Аноним'}:</b> {r.comment}\r\n                  </div>\r\n                  <div style={{ color: '#bbb', fontSize: 12, marginTop: 4 }}>\r\n                    {r.date && new Date(r.date).toLocaleString('ru-RU')}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nPizzaBlock.propTypes = {\r\n  name: PropTypes.string,\r\n  imageUrl: PropTypes.string,\r\n  price: PropTypes.number,\r\n  types: PropTypes.arrayOf(PropTypes.number),\r\n  sizes: PropTypes.arrayOf(PropTypes.number),\r\n  onClickAddPizza: PropTypes.func,\r\n  addedCount: PropTypes.number,\r\n};\r\n\r\nPizzaBlock.defaultProps = {\r\n  name: '---',\r\n  price: 0,\r\n  types: [],\r\n  sizes: [],\r\n};\r\n\r\nexport default PizzaBlock;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nfunction LoadingBlock() {\r\n  return (\r\n    <ContentLoader\r\n      className=\"pizza-block\"\r\n      speed={2}\r\n      width={280}\r\n      height={460}\r\n      viewBox=\"0 0 280 460\"\r\n      backgroundColor=\"#f3f3f3\"\r\n      foregroundColor=\"#ecebeb\">\r\n      <circle cx=\"132\" cy=\"142\" r=\"115\" />\r\n      <rect x=\"0\" y=\"273\" rx=\"6\" ry=\"6\" width=\"280\" height=\"26\" />\r\n      <rect x=\"0\" y=\"310\" rx=\"6\" ry=\"6\" width=\"280\" height=\"84\" />\r\n      <rect x=\"0\" y=\"418\" rx=\"6\" ry=\"6\" width=\"91\" height=\"31\" />\r\n      <rect x=\"137\" y=\"408\" rx=\"25\" ry=\"25\" width=\"140\" height=\"46\" />\r\n    </ContentLoader>\r\n  );\r\n}\r\n\r\nexport default LoadingBlock;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nfunction SearchInput({ value, onChange }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        background: '#f3f3f3',\r\n        borderRadius: 30,\r\n        padding: '6px 16px',\r\n        minWidth: 200,\r\n      }}>\r\n      <svg\r\n        width=\"18\"\r\n        height=\"18\"\r\n        viewBox=\"0 0 18 18\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        style={{ marginRight: 8 }}>\r\n        <path d=\"M11.7666 11.7666L16 16\" stroke=\"#b6b6b6\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n        <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"#b6b6b6\" strokeWidth=\"2\" />\r\n      </svg>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Поиск пиццы...\"\r\n        value={value}\r\n        onChange={e => onChange(e.target.value)}\r\n        style={{\r\n          border: 'none',\r\n          outline: 'none',\r\n          background: 'transparent',\r\n          fontSize: 16,\r\n          width: '100%',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchInput.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchInput;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nfunction SortDirectionButton({ direction, onChange }) {\r\n  const isAsc = direction === 'asc';\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={() => onChange(isAsc ? 'desc' : 'asc')}\r\n      style={{\r\n        background: 'none',\r\n        border: 'none',\r\n        cursor: 'pointer',\r\n        marginLeft: 8,\r\n        padding: 0,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n      }}\r\n      title={isAsc ? 'Сортировать по убыванию' : 'Сортировать по возрастанию'}>\r\n      <svg\r\n        width=\"18\"\r\n        height=\"18\"\r\n        viewBox=\"0 0 18 18\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        style={{ transform: isAsc ? 'rotate(180deg)' : 'none', transition: 'transform 0.2s' }}>\r\n        <path\r\n          d=\"M6 9L9 12L12 9\"\r\n          stroke=\"#fe5f1e\"\r\n          strokeWidth=\"2\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    </button>\r\n  );\r\n}\r\n\r\nSortDirectionButton.propTypes = {\r\n  direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SortDirectionButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SortPopup = React.memo(function SortPopup({ items, activeSortType, onClickSortType }) {\r\n  const [visiblePopup, setVisiblePopup] = React.useState(false);\r\n  const sortRef = React.useRef();\r\n  const activeLabel = items.find((obj) => obj.type === activeSortType).name;\r\n\r\n  const toggleVisiblePopup = () => {\r\n    setVisiblePopup(!visiblePopup);\r\n  };\r\n\r\n  const handleOutsideClick = (event) => {\r\n    const path = event.path || (event.composedPath && event.composedPath());\r\n    if (!path.includes(sortRef.current)) {\r\n      setVisiblePopup(false);\r\n    }\r\n  };\r\n\r\n  const onSelectItem = (index) => {\r\n    if (onClickSortType) {\r\n      onClickSortType(index);\r\n    }\r\n    setVisiblePopup(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    document.body.addEventListener('click', handleOutsideClick);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={sortRef} className=\"sort\">\r\n      <div className=\"sort__label\">\r\n        <svg\r\n          className={visiblePopup ? 'rotated' : ''}\r\n          width=\"10\"\r\n          height=\"6\"\r\n          viewBox=\"0 0 10 6\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n            fill=\"#2C2C2C\"\r\n          />\r\n        </svg>\r\n        <b>Сортировка по:</b>\r\n        <span onClick={toggleVisiblePopup}>{activeLabel}</span>\r\n      </div>\r\n      {visiblePopup && (\r\n        <div className=\"sort__popup\">\r\n          <ul>\r\n            {items &&\r\n              items.map((obj, index) => (\r\n                <li\r\n                  onClick={() => onSelectItem(obj)}\r\n                  className={activeSortType === obj.type ? 'active' : ''}\r\n                  key={`${obj.type}_${index}`}>\r\n                  {obj.name}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nSortPopup.propTypes = {\r\n  activeSortType: PropTypes.string.isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onClickSortType: PropTypes.func.isRequired,\r\n};\r\n\r\nSortPopup.defaultProps = {\r\n  items: [],\r\n};\r\n\r\nexport default SortPopup;\r\n","import React, { useEffect } from 'react';\r\nimport './Notification.scss';\r\n\r\nconst Notification = ({ message, type = 'success', onClose, visible }) => {\r\n  useEffect(() => {\r\n    if (visible) {\r\n      const timer = setTimeout(onClose, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [visible, onClose]);\r\n\r\n  return (\r\n    <div className={`notification notification--${type} ${visible ? 'notification--visible' : ''}`}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","export const setSortBy = ({ type, order }) => ({\r\n  type: 'SET_SORT_BY',\r\n  payload: { type, order },\r\n});\r\n\r\nexport const setCategory = (catIndex) => ({\r\n  type: 'SET_CATEGORY',\r\n  payload: catIndex,\r\n});","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://680743a9e81df7060eb96fec.mockapi.io/';\r\n\r\nexport const api = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n","import { api } from '../../api/api';\r\n\r\nexport const setLoaded = payload => ({\r\n  type: 'SET_LOADED',\r\n  payload,\r\n});\r\n\r\nexport const fetchPizzas = (sortBy, category, search) => dispatch => {\r\n  dispatch({\r\n    type: 'SET_LOADED',\r\n    payload: false,\r\n  });\r\n\r\n  // Формируем query string\r\n  let queryParams = [];\r\n\r\n  if (search && search.trim()) {\r\n    queryParams = [`search=${encodeURIComponent(search.trim())}`];\r\n  } else {\r\n    if (category !== undefined && category !== null) {\r\n      queryParams.push(`category=${category}`);\r\n    }\r\n    if (sortBy?.type) {\r\n      queryParams.push(`sortBy=${sortBy.type}`);\r\n      queryParams.push(`order=${sortBy.order}`);\r\n    }\r\n  }\r\n\r\n  const queryString = queryParams.length ? `?${queryParams.join('&')}` : '';\r\n  const url = `/pizzas${queryString}`;\r\n\r\n  api.get(url).then(({ data }) => {\r\n    dispatch(setPizzas(data));\r\n  });\r\n};\r\n\r\nexport const setPizzas = items => ({\r\n  type: 'SET_PIZZAS',\r\n  payload: items,\r\n});\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n  Categories,\r\n  PizzaBlock,\r\n  PizzaLoadingBlock,\r\n  SearchInput,\r\n  SortDirectionButton,\r\n  SortPopup,\r\n} from '../components';\r\n\r\nimport { addPizzaToCart } from '../redux/actions/cart';\r\nimport { setCategory, setSortBy } from '../redux/actions/filters';\r\nimport { fetchPizzas } from '../redux/actions/pizzas';\r\n\r\nconst categoryNames = ['Мясные', 'Вегетарианская', 'Гриль', 'Острые', 'Закрытые'];\r\nconst sortIems = [\r\n  { name: 'популярности', type: 'rating', order: 'desc' },\r\n  { name: 'цене', type: 'price', order: 'desc' },\r\n  { name: 'алфавит', type: 'name', order: 'asc' },\r\n];\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch();\r\n  const items = useSelector(({ pizzas }) => pizzas.items);\r\n  const cartItems = useSelector(({ cart }) => cart.items);\r\n  const isLoaded = useSelector(({ pizzas }) => pizzas.isLoaded);\r\n  const { category, sortBy } = useSelector(({ filters }) => filters);\r\n\r\n  const [search, setSearch] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchPizzas(sortBy, category, search));\r\n  }, [category, sortBy, search, dispatch]);\r\n\r\n  const onSelectCategory = React.useCallback(\r\n    index => {\r\n      dispatch(setCategory(index));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onSelectSortType = React.useCallback(\r\n    type => {\r\n      dispatch(setSortBy(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onChangeSortOrder = React.useCallback(\r\n    order => {\r\n      dispatch(setSortBy({ ...sortBy, order }));\r\n    },\r\n    [dispatch, sortBy],\r\n  );\r\n\r\n  const handleAddPizzaToCart = obj => {\r\n    dispatch(addPizzaToCart(obj));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"content__top\">\r\n        <Categories\r\n          activeCategory={category}\r\n          onClickCategory={onSelectCategory}\r\n          items={categoryNames}\r\n        />\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <SortPopup\r\n            activeSortType={sortBy.type}\r\n            items={sortIems}\r\n            onClickSortType={onSelectSortType}\r\n          />\r\n          <SortDirectionButton direction={sortBy.order} onChange={onChangeSortOrder} />\r\n        </div>\r\n      </div>\r\n      <h2\r\n        className=\"content__title\"\r\n        style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n        <span>Все пиццы</span>\r\n        <SearchInput value={search} onChange={setSearch} />\r\n      </h2>\r\n      <div className=\"content__items\">\r\n        {isLoaded\r\n          ? items.map(obj => (\r\n              <PizzaBlock\r\n                onClickAddPizza={handleAddPizzaToCart}\r\n                key={obj.id}\r\n                addedCount={cartItems[obj.id] && cartItems[obj.id].items.length}\r\n                {...obj}\r\n              />\r\n            ))\r\n          : Array(12)\r\n              .fill(0)\r\n              .map((_, index) => <PizzaLoadingBlock key={index} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\n\r\nconst PROMO_API = 'https://686750c9e3fefb261ede4439.mockapi.io/db2/promo';\r\n\r\nconst PROMOCODES = {\r\n  NASVAI: { discount: 15, description: 'Скидка 15% на весь заказ' },\r\n  BYRTYCH: { discount: 20, description: 'Скидка 20% на весь заказ' },\r\n  ISHKA: { discount: 10, description: 'Скидка 10% на весь заказ' },\r\n  CHLENINEMEUT: { discount: 25, description: 'Скидка 25% на весь заказ' },\r\n};\r\n\r\nexport const checkPromocode = code => async dispatch => {\r\n  const upperCode = code.toUpperCase();\r\n  try {\r\n    const { data } = await axios.get(`${PROMO_API}?code=${upperCode}`);\r\n    if (data.length > 0) {\r\n      const promocode = data[0];\r\n      dispatch({\r\n        type: 'APPLY_PROMOCODE',\r\n        payload: {\r\n          code: promocode.code,\r\n          discount: Number(promocode.discount),\r\n          description: promocode.description,\r\n          id: promocode.id,\r\n        },\r\n      });\r\n      return { success: true, message: `Промокод применён! ${promocode.description}` };\r\n    } else {\r\n      return { success: false, message: 'Неверный или уже использованный промокод' };\r\n    }\r\n  } catch (e) {\r\n    return { success: false, message: 'Ошибка проверки промокода' };\r\n  }\r\n};\r\n\r\nexport const removePromocode = () => ({\r\n  type: 'REMOVE_PROMOCODE',\r\n});\r\n\r\nexport const burnPromocode = id => async dispatch => {\r\n  try {\r\n    await axios.delete(`${PROMO_API}/${id}`);\r\n    dispatch(removePromocode());\r\n  } catch (e) {\r\n    console.error('Ошибка удаления промокода из БД:', e);\r\n  }\r\n};\r\n","import axios from 'axios';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport cartEmptyImage from '../assets/img/empty-cart.png';\nimport { CartItem } from '../components';\nimport { clearCart, minusCartItem, plusCartItem, removeCartItem } from '../redux/actions/cart';\nimport { checkPromocode, removePromocode } from '../redux/actions/promocodes';\n\nfunction Cart() {\n  const dispatch = useDispatch();\n  const { totalPrice, totalCount, items } = useSelector(({ cart }) => cart);\n  const appliedPromocode = useSelector(state => state.promocodes?.appliedPromocode || null);\n\n  const [promoInput, setPromoInput] = React.useState('');\n  const [promoMessage, setPromoMessage] = React.useState('');\n\n  const addedPizzas = Object.entries(items).map(([cartKey, value]) => {\n    return {\n      ...value.items[0],\n      cartKey,\n      totalPrice: value.totalPrice,\n      totalCount: value.items.length,\n    };\n  });\n\n  React.useEffect(() => {\n    const checkPromo = async () => {\n      if (appliedPromocode && appliedPromocode.id) {\n        try {\n          const { data } = await axios.get(\n            `https://686750c9e3fefb261ede4439.mockapi.io/db2/promo/${appliedPromocode.id}`,\n          );\n          if (!data || data.code !== appliedPromocode.code) {\n            dispatch(removePromocode());\n          }\n        } catch {\n          dispatch(removePromocode());\n        }\n      }\n    };\n    checkPromo();\n    // eslint-disable-next-line\n  }, []);\n\n  const onClearCart = () => {\n    if (window.confirm('Вы действительно хотите очистить корзину?')) {\n      dispatch(clearCart());\n      dispatch(removePromocode());\n    }\n  };\n\n  const onRemoveItem = pizzaObj => {\n    if (window.confirm('Вы действительно хотите удалить?')) {\n      dispatch(removeCartItem(pizzaObj));\n    }\n  };\n\n  const onPlusItem = pizzaObj => {\n    dispatch(plusCartItem(pizzaObj));\n  };\n\n  const onMinusItem = pizzaObj => {\n    dispatch(minusCartItem(pizzaObj));\n  };\n\n  const handleApplyPromo = e => {\n    e.preventDefault();\n    const result = dispatch(checkPromocode(promoInput));\n    setPromoMessage(result.message);\n    setPromoInput('');\n  };\n\n  const handleRemovePromo = () => {\n    dispatch(removePromocode());\n    setPromoMessage('Промокод удалён');\n  };\n\n  const discount = appliedPromocode\n    ? Math.round((totalPrice * appliedPromocode.discount) / 100)\n    : 0;\n  const finalPrice = totalPrice - discount;\n\n  return (\n    <div className=\"container container--cart\">\n      {totalCount ? (\n        <div className=\"cart\">\n          <div className=\"cart__top\">\n            <h2 className=\"content__title\">\n              <svg\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669\"\n                  stroke=\"white\"\n                  strokeWidth=\"1.8\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n              Корзина\n            </h2>\n            <div className=\"cart__clear\">\n              <svg\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 20 20\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M2.5 5H4.16667H17.5\"\n                  stroke=\"#B6B6B6\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M6.66663 5.00001V3.33334C6.66663 2.89131 6.84222 2.46739 7.15478 2.15483C7.46734 1.84227 7.89127 1.66667 8.33329 1.66667H11.6666C12.1087 1.66667 12.5326 1.84227 12.8451 2.15483C13.1577 2.46739 13.3333 2.89131 13.3333 3.33334V5.00001M15.8333 5.00001V16.6667C15.8333 17.1087 15.6577 17.5326 15.3451 17.8452C15.0326 18.1577 14.6087 18.3333 14.1666 18.3333H5.83329C5.39127 18.3333 4.96734 18.1577 4.65478 17.8452C4.34222 17.5326 4.16663 17.1087 4.16663 16.6667V5.00001H15.8333Z\"\n                  stroke=\"#B6B6B6\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M8.33337 9.16667V14.1667\"\n                  stroke=\"#B6B6B6\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                <path\n                  d=\"M11.6666 9.16667V14.1667\"\n                  stroke=\"#B6B6B6\"\n                  strokeWidth=\"1.2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n\n              <span onClick={onClearCart}>Очистить корзину</span>\n            </div>\n          </div>\n          <div className=\"content__items\">\n            {addedPizzas.map(obj => (\n              <CartItem\n                key={obj.cartKey}\n                id={obj.id}\n                name={obj.name}\n                type={obj.type}\n                size={obj.size}\n                totalPrice={obj.totalPrice}\n                totalCount={obj.totalCount}\n                cartKey={obj.cartKey}\n                imageUrl={obj.imageUrl}\n                onRemove={() => onRemoveItem(obj)}\n                onMinus={() => onMinusItem(obj)}\n                onPlus={() => onPlusItem(obj)}\n              />\n            ))}\n          </div>\n          <div className=\"cart__bottom\">\n            <form\n              onSubmit={handleApplyPromo}\n              style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 18 }}>\n              <input\n                type=\"text\"\n                value={promoInput}\n                onChange={e => setPromoInput(e.target.value)}\n                placeholder=\"Промокод\"\n                style={{\n                  padding: '10px 16px',\n                  borderRadius: 8,\n                  border: '1px solid #eee',\n                  fontSize: 16,\n                  outline: 'none',\n                  background: '#faf8f6',\n                  width: 180,\n                }}\n                disabled={!!appliedPromocode}\n              />\n              {!appliedPromocode ? (\n                <button type=\"submit\" className=\"button button--cart\" style={{ fontSize: 16 }}>\n                  Применить\n                </button>\n              ) : (\n                <button\n                  type=\"button\"\n                  className=\"button button--black\"\n                  style={{ fontSize: 16 }}\n                  onClick={handleRemovePromo}>\n                  Удалить\n                </button>\n              )}\n              {promoMessage && (\n                <span\n                  style={{\n                    color: appliedPromocode ? '#4caf50' : '#e53935',\n                    fontWeight: 500,\n                    marginLeft: 8,\n                  }}>\n                  {promoMessage}\n                </span>\n              )}\n              {appliedPromocode && (\n                <span style={{ color: '#ff9800', fontWeight: 600, marginLeft: 8 }}>\n                  {appliedPromocode.code}: {appliedPromocode.description}\n                </span>\n              )}\n            </form>\n            <div className=\"cart__bottom-details\">\n              <span>\n                Всего пицц: <b>{totalCount} шт.</b>\n              </span>\n              <span>\n                Сумма заказа: <b>{totalPrice} ₽</b>\n              </span>\n              {appliedPromocode && (\n                <span style={{ color: '#4caf50', fontWeight: 600 }}>Скидка: -{discount} ₽</span>\n              )}\n              {appliedPromocode && (\n                <span style={{ color: '#ff9800', fontWeight: 600 }}>\n                  К оплате: <b>{finalPrice} ₽</b>\n                </span>\n              )}\n            </div>\n            <div className=\"cart__bottom-buttons\">\n              <Link to=\"/\" className=\"button button--outline button--add go-back-btn\">\n                <svg\n                  width=\"8\"\n                  height=\"14\"\n                  viewBox=\"0 0 8 14\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M7 13L1 6.93015L6.86175 1\"\n                    stroke=\"#D3D3D3\"\n                    strokeWidth=\"1.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n                <span>Вернуться назад</span>\n              </Link>\n              <Link to=\"/order\" className=\"button pay-btn\">\n                <span>Оформить заказ</span>\n              </Link>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"cart cart--empty\">\n          <h2>\n            Корзина пустая <i>😕</i>\n          </h2>\n          <p>\n            Вероятней всего, вы не заказывали ещё пиццу.\n            <br />\n            Для того, чтобы заказать пиццу, перейди на главную страницу.\n          </p>\n          <img src={cartEmptyImage} alt=\"Empty cart\" />\n          <Link to=\"/\" className=\"button button--black\">\n            <span>Вернуться назад</span>\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Cart;\n","import axios from 'axios';\r\n\r\nconst ORDERS_API = 'https://686750c9e3fefb261ede4439.mockapi.io/db2/orders';\r\n\r\nexport const saveOrder = orderData => async dispatch => {\r\n  try {\r\n    const order = {\r\n      ...orderData,\r\n      date: new Date().toISOString(),\r\n      status: 'completed',\r\n      id: Date.now().toString(),\r\n    };\r\n\r\n    await axios.post(ORDERS_API, order);\r\n    dispatch({ type: 'ADD_ORDER', payload: order });\r\n    // Сохраняем в localStorage\r\n    const prevOrders = JSON.parse(localStorage.getItem('orders') || '[]');\r\n    localStorage.setItem('orders', JSON.stringify([order, ...prevOrders]));\r\n  } catch (error) {\r\n    console.error('Error saving order:', error);\r\n  }\r\n};\r\n\r\nexport const fetchOrders = () => async dispatch => {\r\n  try {\r\n    const { data } = await axios.get(ORDERS_API);\r\n    dispatch({ type: 'SET_ORDERS', payload: data });\r\n  } catch (error) {\r\n    console.error('Error fetching orders:', error);\r\n  }\r\n};\r\n\r\nexport const setOrders = orders => ({\r\n  type: 'SET_ORDERS',\r\n  payload: orders,\r\n});\r\n\r\nexport const loadOrdersFromLocalStorage = () => dispatch => {\r\n  const orders = JSON.parse(localStorage.getItem('orders') || '[]');\r\n  dispatch({ type: 'SET_ORDERS', payload: orders });\r\n};\r\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { clearCart } from '../redux/actions/cart';\nimport { saveOrder } from '../redux/actions/orders';\nimport { burnPromocode } from '../redux/actions/promocodes';\nimport store from '../redux/store';\n\nconst OrderPage = ({ showNotification }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [form, setForm] = useState({ name: '', phone: '', address: '' });\n  const [loading, setLoading] = useState(false);\n  const totalPrice = useSelector(state => state.cart.totalPrice);\n  const items = useSelector(state => state.cart.items);\n  const appliedPromocode = useSelector(state => state.promocodes?.appliedPromocode);\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    // Имитация оплаты\n    await new Promise(res => setTimeout(res, 1800));\n    setLoading(false);\n    const isSuccess = Math.random() > 0.1; // 90% успеха\n    if (isSuccess) {\n      const currentItems = store.getState().cart.items;\n      if (!currentItems || Object.keys(currentItems).length === 0) {\n        showNotification('Корзина пуста, заказ не может быть оформлен.', 'error');\n        return;\n      }\n      dispatch(\n        saveOrder({\n          name: form.name,\n          phone: form.phone,\n          address: form.address,\n          totalPrice,\n          items: currentItems,\n          promocode: appliedPromocode || null,\n        }),\n      );\n      dispatch(clearCart());\n      if (appliedPromocode && appliedPromocode.id) {\n        dispatch(burnPromocode(appliedPromocode.id));\n      }\n      showNotification('Оплата прошла успешно! Спасибо за заказ!', 'success');\n      history.push('/');\n    } else {\n      showNotification('Ошибка оплаты. Попробуйте ещё раз.', 'error');\n    }\n  };\n\n  return (\n    <div className=\"container\" style={{ maxWidth: 420, margin: '40px auto' }}>\n      <div\n        style={{\n          background: '#fff',\n          borderRadius: 18,\n          boxShadow: '0 8px 32px rgba(0,0,0,0.10)',\n          padding: 32,\n          marginTop: 32,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}>\n        <h2 style={{ marginBottom: 24, color: '#ff9800', fontWeight: 700 }}>Оформление заказа</h2>\n        <form\n          onSubmit={handleSubmit}\n          style={{ width: '100%', display: 'flex', flexDirection: 'column', gap: 18 }}>\n          <input\n            name=\"name\"\n            value={form.name}\n            onChange={handleChange}\n            placeholder=\"Имя\"\n            required\n            style={inputStyle}\n          />\n          <input\n            name=\"phone\"\n            value={form.phone}\n            onChange={handleChange}\n            placeholder=\"Телефон\"\n            required\n            style={inputStyle}\n          />\n          <input\n            name=\"address\"\n            value={form.address}\n            onChange={handleChange}\n            placeholder=\"Адрес доставки\"\n            required\n            style={inputStyle}\n          />\n          <button\n            type=\"submit\"\n            className=\"button button--cart\"\n            disabled={loading || totalPrice === 0}\n            style={{ fontSize: 20, marginTop: 8 }}>\n            {loading ? 'Оплата...' : `Оплатить ${totalPrice} ₽`}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst inputStyle = {\n  padding: '14px 18px',\n  borderRadius: 8,\n  border: '1px solid #eee',\n  fontSize: 17,\n  outline: 'none',\n  marginBottom: 0,\n  background: '#faf8f6',\n  transition: 'border 0.2s',\n};\n\nexport default OrderPage;\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadOrdersFromLocalStorage } from '../redux/actions/orders';\r\n\r\nconst OrdersPage = () => {\r\n  const dispatch = useDispatch();\r\n  const { orders } = useSelector(({ orders }) => orders);\r\n\r\n  useEffect(() => {\r\n    dispatch(loadOrdersFromLocalStorage());\r\n  }, [dispatch]);\r\n\r\n  const formatDate = dateString => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ru-RU', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  const getStatusText = status => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'Выполнен';\r\n      case 'pending':\r\n        return 'В обработке';\r\n      default:\r\n        return status;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = status => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return '#4caf50';\r\n      case 'pending':\r\n        return '#ff9800';\r\n      default:\r\n        return '#757575';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" style={{ maxWidth: 800, margin: '40px auto' }}>\r\n      <h2\r\n        style={{\r\n          textAlign: 'center',\r\n          color: '#ff9800',\r\n          marginBottom: 32,\r\n          fontSize: 32,\r\n          fontWeight: 700,\r\n        }}>\r\n        История заказов\r\n      </h2>\r\n\r\n      {orders.length === 0 ? (\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            padding: 60,\r\n            background: '#fff',\r\n            borderRadius: 18,\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n          }}>\r\n          <h3 style={{ color: '#757575', marginBottom: 16 }}>Заказов пока нет</h3>\r\n          <p style={{ color: '#999' }}>Сделайте первый заказ, чтобы увидеть его здесь</p>\r\n        </div>\r\n      ) : (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 20 }}>\r\n          {orders\r\n            .filter(\r\n              order => order && order.id && order.items && Object.keys(order.items).length > 0,\r\n            )\r\n            .map(order => (\r\n              <div\r\n                key={order.id}\r\n                style={{\r\n                  background: '#fff',\r\n                  borderRadius: 16,\r\n                  padding: 24,\r\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                  border: '1px solid #f0f0f0',\r\n                }}>\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    marginBottom: 16,\r\n                    paddingBottom: 16,\r\n                    borderBottom: '1px solid #f0f0f0',\r\n                  }}>\r\n                  <div>\r\n                    <h3 style={{ margin: 0, color: '#333', fontSize: 18 }}>\r\n                      Заказ #{typeof order.id === 'string' ? order.id.slice(-6) : order.id}\r\n                    </h3>\r\n                    <p style={{ margin: '4px 0 0 0', color: '#666', fontSize: 14 }}>\r\n                      {formatDate(order.date)}\r\n                    </p>\r\n                  </div>\r\n                  <div style={{ textAlign: 'right' }}>\r\n                    <div\r\n                      style={{\r\n                        padding: '6px 12px',\r\n                        borderRadius: 20,\r\n                        background: getStatusColor(order.status),\r\n                        color: '#fff',\r\n                        fontSize: 12,\r\n                        fontWeight: 600,\r\n                      }}>\r\n                      {getStatusText(order.status)}\r\n                    </div>\r\n                    <p\r\n                      style={{\r\n                        margin: '8px 0 0 0',\r\n                        color: '#ff9800',\r\n                        fontSize: 18,\r\n                        fontWeight: 700,\r\n                      }}>\r\n                      {order.totalPrice} ₽\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <h4 style={{ margin: '0 0 12px 0', color: '#333', fontSize: 16 }}>\r\n                    Состав заказа:\r\n                  </h4>\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n                    {order.items &&\r\n                      Object.entries(order.items).map(([cartKey, item]) => (\r\n                        <div\r\n                          key={cartKey}\r\n                          style={{\r\n                            display: 'flex',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            padding: '8px 12px',\r\n                            background: '#faf8f6',\r\n                            borderRadius: 8,\r\n                          }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, color: '#333', fontWeight: 500 }}>\r\n                              {item.items && item.items[0] ? item.items[0].name : 'Пицца'}\r\n                            </p>\r\n                            <p style={{ margin: '2px 0 0 0', color: '#666', fontSize: 12 }}>\r\n                              {item.items && item.items[0]\r\n                                ? `${item.items[0].size} см, ${item.items[0].type} тесто`\r\n                                : ''}\r\n                            </p>\r\n                          </div>\r\n                          <div style={{ textAlign: 'right' }}>\r\n                            <p style={{ margin: 0, color: '#ff9800', fontWeight: 600 }}>\r\n                              {item.items ? item.items.length : 0} шт.\r\n                            </p>\r\n                            <p style={{ margin: '2px 0 0 0', color: '#666', fontSize: 12 }}>\r\n                              {item.totalPrice || 0} ₽\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersPage;\r\n","import React, { useCallback, useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport { Header } from './components';\nimport Notification from './components/Notification';\nimport { Cart, Home } from './pages';\nimport OrderPage from './pages/OrderPage';\nimport OrdersPage from './pages/OrdersPage';\n\nfunction App() {\n  const [notification, setNotification] = useState({\n    message: '',\n    type: 'success',\n    visible: false,\n  });\n\n  const showNotification = useCallback((message, type = 'success') => {\n    setNotification({ message, type, visible: true });\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setNotification(n => ({ ...n, visible: false }));\n  }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <Header />\n      <Notification\n        message={notification.message}\n        type={notification.type}\n        visible={notification.visible}\n        onClose={handleClose}\n      />\n      <div className=\"content\">\n        <Route path=\"/\" component={Home} exact />\n        <Route path=\"/cart\" component={Cart} exact />\n        <Route path=\"/orders\" component={OrdersPage} exact />\n        <Route\n          path=\"/order\"\n          render={() => <OrderPage showNotification={showNotification} />}\n          exact\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './redux/store';\r\n\r\nimport './scss/app.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}